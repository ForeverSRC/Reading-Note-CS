# 第10章 类

## 10.1 类的组织

组织顺序：

* 变量列表
  * 公共静态常量(`public static final`)
    * *如果此常量与该类有语义上的密切联系，则可放在此类中*
    * *如果此常量与该类联系不大，建议放在常量类中*
  * 私有静态常量(`private static final`)
    * *私自增加的一项。有些常量往往只在该类中被使用，并不会被其他类使用*
  * 私有静态变量(`private static`)
  * 私有实体变量(`private`)
    * 很少会有公共变量(`public`)
* 方法列表
  * 公共方法
  * 与该公共方法相关的私有方法

## 10.2 类应该短小

衡量类长度的标准是**权责**。

* 类的名称应当描述其权责
  * 类名越含混，该类就可能拥有过多权责

### 10.2.1 单一权责原则

> 类应该有且只有一条加以修改的理由

系统应该由许多短小的类而不是少量巨大的类组成。每个小类封装一个权责，只有一个修改的原因，并与少数其他类一起协同达成期望的系统行为。

### 10.2.2 内聚

类中应该只有少量实体变量，类中的每个方法都应该操作一个或多个这种变量。

*在使用Spring框架时也应该遵守此类规则，一个Component中不应当有太多其他的Component*

通常而言，方法操作的变量越多，就越粘聚到类上。如果一个类中的每个变量都被每个方法所使用，则该类具有最大的内聚性。

### 10.2.3 保持内聚性就会得到许多短小的类

1. 将大函数拆解成小函数
2. 如果小函数会用到大函数中声明的多个变量，考虑将其提升为类的实体变量
3. 如果很多小函数要共享多个变量，考虑将这些函数和变量封装为新的类

## 10.3 为了修改而组织

* 出现了只与类的一小部分有关的私有方法行为，意味着存在改进空间。