# 第11章 系统

## 11.2 将系统的构造与使用分开

软件系统应将起始过程和起始过程之后的运行时逻辑分离开，在起始过程中构建应用对象，也会存在互相缠结的依赖关系。

### 11.2.1 分解main

构造与使用分开的方法之一是，将全部构造过程搬迁到main或被称为main的模块中，设计系统的其余部分时，假设所有对象都已正确构造和设置。

### 11.2.2 工厂

### 11.2.3 依赖注入

在依赖管理情景中，对象不应负责实体化对自身的依赖。反之，它应当将这份权责移交给其他“有权力”的机制，从而实现控制的反转。

## 11.3 扩容

> "一开始就做对系统"纯属神话。反之，应该只去实现今天的**用户故事(User Story)**，然后重构，明天再扩展系统、实现新的用户故事。

## 11.4 Java代理

代码量和复杂度是代理的两大弱点，创建整洁代码变得很难

## 11.5 纯Java AOP框架

## 11.6 AspectJ切面

## 11.7 测试驱动系统架构

## 11.8 优化决策

延迟决策至最后一刻，能够基于最有可能的信息做出选择。

## 11.9 明智使用添加了可论证价值的标准

## 11.10 系统需要领域特定语言

领域特定语言(Domain-Specific Language DSL)是一种单独的小型脚本语言或以标准语言写就的API，领域专家可以用它编写读起来像是组织严谨的散文一般的代码。



